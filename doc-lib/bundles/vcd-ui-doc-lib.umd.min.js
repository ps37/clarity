!(function(e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(
        exports,
        require('@angular/core'),
        require('@angular/router'),
        require('prismjs'),
        require('prismjs/components/prism-typescript'),
        require('prismjs/components/prism-scss'),
        require('@clr/angular'),
        require('@angular/common')
      )
    : 'function' == typeof define && define.amd
      ? define('@vcd/ui-doc-lib', [
          'exports',
          '@angular/core',
          '@angular/router',
          'prismjs',
          'prismjs/components/prism-typescript',
          'prismjs/components/prism-scss',
          '@clr/angular',
          '@angular/common',
        ], t)
      : t(
          (((e = e || self).vcd = e.vcd || {}), (e.vcd['ui-doc-lib'] = {})),
          e.ng.core,
          e.ng.router,
          e.Prism,
          null,
          null,
          e.angular,
          e.ng.common
        );
})(this, function(e, t, n, r, o, i, a, c) {
  'use strict';
  r = r && r.hasOwnProperty('default') ? r.default : r;
  /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
  var s = function(e, t) {
    return (s =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array &&
        function(e, t) {
          e.__proto__ = t;
        }) ||
      function(e, t) {
        for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
      })(e, t);
  };
  function p(e) {
    var t = 'function' == typeof Symbol && e[Symbol.iterator],
      n = 0;
    return t
      ? t.call(e)
      : {
          next: function() {
            return e && n >= e.length && (e = void 0), { value: e && e[n++], done: !e };
          },
        };
  }
  function l(e, t) {
    var n = 'function' == typeof Symbol && e[Symbol.iterator];
    if (!n) return e;
    var r,
      o,
      i = n.call(e),
      a = [];
    try {
      for (; (void 0 === t || t-- > 0) && !(r = i.next()).done; ) a.push(r.value);
    } catch (e) {
      o = { error: e };
    } finally {
      try {
        r && !r.done && (n = i.return) && n.call(i);
      } finally {
        if (o) throw o.error;
      }
    }
    return a;
  }
  function u() {
    for (var e = [], t = 0; t < arguments.length; t++) e = e.concat(l(arguments[t]));
    return e;
  }
  var d = function() {},
    m = (function() {
      function e(e) {
        this.route = e;
      }
      return (
        (e.prototype.ngOnInit = function() {
          var e = this;
          this.route.data.subscribe(function(t) {
            e.documentationEntry = t.documentationEntry;
          });
        }),
        (e.decorators = [
          {
            type: t.Component,
            args: [
              {
                selector: 'vcd-documentation-container',
                template:
                  '<clr-tabs>\n    <clr-tab>\n        <button clrTabLink>Documentation</button>\n        <clr-tab-content>\n            <vcd-overview-viewer [component]="documentationEntry?.component"> </vcd-overview-viewer>\n        </clr-tab-content>\n    </clr-tab>\n\n    <clr-tab>\n        <button clrTabLink>API</button>\n        <clr-tab-content>\n            <vcd-api-viewer [component]="documentationEntry?.component"> </vcd-api-viewer>\n        </clr-tab-content>\n    </clr-tab>\n\n    <clr-tab>\n        <button clrTabLink>Examples</button>\n        <clr-tab-content>\n            <vcd-example-viewer\n                *ngFor="let exampleDescriptor of documentationEntry?.examples"\n                [exampleEntry]="exampleDescriptor"\n            >\n            </vcd-example-viewer>\n        </clr-tab-content>\n    </clr-tab>\n</clr-tabs>\n',
                styles: ['vcd-example-viewer{margin-top:1rem;display:block}'],
              },
            ],
          },
        ]),
        (e.ctorParameters = function() {
          return [{ type: n.ActivatedRoute }];
        }),
        e
      );
    })(),
    h = new Map();
  var f = {
      getAllEntries: function() {
        return Array.from(h.values());
      },
      getRoutes: function() {
        return f.getAllEntries().map(function(e) {
          return { path: e.urlSegment, component: m, data: { documentationEntry: e } };
        });
      },
      registerDocumentationEntry: function(e) {
        !(function(e) {
          if (!e.urlSegment) throw new Error('urlSegment should be specified and not empty');
          var t = f.getAllEntries().find(function(t) {
            return t.urlSegment === e.urlSegment;
          });
          if (t)
            throw new Error(
              "The specified urlSegment '" +
                e.urlSegment +
                "' for '" +
                e.displayName +
                "'was already defined for '" +
                t.displayName +
                "'"
            );
          if (!e.displayName) throw new Error('displayName should be specified and not empty');
        })(e),
          h.set(e.component, e);
      },
    },
    v = (function() {
      function e(e) {
        this.documentationJson = e;
      }
      return (
        (e.prototype.getOverview = function(e) {
          return this.getComponent(e).description;
        }),
        (e.prototype.getTypescriptSourceCode = function(e) {
          return this.getComponent(e).sourceCode;
        }),
        (e.prototype.getHtmlSourceCode = function(e) {
          return this.getComponent(e).templateData;
        }),
        (e.prototype.getCssSourceCode = function(e) {
          var t = this.getComponent(e).styleUrlsData;
          if (t)
            return t
              .map(function(e) {
                return e.data;
              })
              .join('\n\n\n');
        }),
        (e.prototype.getComponent = function(e) {
          var t, n;
          try {
            for (var r = p(this.documentationJson), o = r.next(); !o.done; o = r.next()) {
              var i = o.value.components.find(function(t) {
                return t.name === e.name;
              });
              if (i) return i;
            }
          } catch (e) {
            t = { error: e };
          } finally {
            try {
              o && !o.done && (n = r.return) && n.call(r);
            } finally {
              if (t) throw t.error;
            }
          }
          return { styleUrlsData: [] };
        }),
        (e.prototype.getModule = function(e) {
          var t, n;
          try {
            for (var r = p(this.documentationJson), o = r.next(); !o.done; o = r.next()) {
              var i = o.value.modules.find(function(t) {
                return t.name === e;
              });
              if (i) return i;
            }
          } catch (e) {
            t = { error: e };
          } finally {
            try {
              o && !o.done && (n = r.return) && n.call(r);
            } finally {
              if (t) throw t.error;
            }
          }
          return null;
        }),
        (e.prototype.getInputParameters = function(e) {
          return this.getComponent(e).inputsClass || [];
        }),
        (e.prototype.getOutputParameters = function(e) {
          return this.getComponent(e).outputsClass || [];
        }),
        e
      );
    })(),
    g = (function() {
      function e() {}
      return (
        (e.decorators = [{ type: t.Injectable, args: [{ providedIn: 'root' }] }]),
        (e.ngInjectableDef = t.ɵɵdefineInjectable({
          factory: function() {
            return new e();
          },
          token: e,
          providedIn: 'root',
        })),
        e
      );
    })(),
    y = (function(e) {
      function n() {
        return (null !== e && e.apply(this, arguments)) || this;
      }
      return (
        (function(e, t) {
          function n() {
            this.constructor = e;
          }
          s(e, t), (e.prototype = null === t ? Object.create(t) : ((n.prototype = t.prototype), new n()));
        })(n, e),
        (n.prototype.highlightTypescript = function(e) {
          return this.highlight(e, r.languages.typescript);
        }),
        (n.prototype.highlightHtml = function(e) {
          return this.highlight(e, r.languages.html);
        }),
        (n.prototype.highlightScss = function(e) {
          return this.highlight(e, r.languages.scss);
        }),
        (n.prototype.highlight = function(e, t) {
          return r.highlight(e || '', t);
        }),
        (n.decorators = [{ type: t.Injectable }]),
        n
      );
    })(g),
    b = (function() {
      function e(e) {
        (this.documentationRetriever = e), (this.isNoOverviewMessageShown = !0);
      }
      return (
        Object.defineProperty(e.prototype, 'component', {
          set: function(e) {
            e &&
              (this.overview =
                this.documentationRetriever.getOverview(e) ||
                (this.isNoOverviewMessageShown ? 'No Documentation found' : ''));
          },
          enumerable: !0,
          configurable: !0,
        }),
        (e.decorators = [
          {
            type: t.Component,
            args: [{ selector: 'vcd-overview-viewer', template: '<div [innerHTML]="overview"></div>\n', styles: [''] }],
          },
        ]),
        (e.ctorParameters = function() {
          return [{ type: d }];
        }),
        (e.propDecorators = { isNoOverviewMessageShown: [{ type: t.Input }], component: [{ type: t.Input }] }),
        e
      );
    })(),
    C = [b],
    w = (function() {
      function e() {}
      return (
        (e.decorators = [
          {
            type: t.NgModule,
            args: [{ imports: [a.ClarityModule, c.CommonModule], declarations: u(C), exports: u(C) }],
          },
        ]),
        e
      );
    })(),
    x = (function() {
      function e(e, t) {
        (this.stackBlitzData = e), (this.docRetriever = t);
      }
      return (
        (e.prototype.openStackBlitz = function(e) {
          var t = this,
            n = this.docRetriever.getComponent(e.component),
            r = this.docRetriever.getModule(n.name.replace('ExampleComponent', 'ExampleModule')),
            o = r.name,
            i = m(r.path),
            a = n.selector,
            c = m(n.file),
            s = document.createElement('form'),
            p = encodeURIComponent('src/app/' + c);
          if (
            ((s.action = 'https://stackblitz.com/run?file=' + p),
            (s.method = 'post'),
            (s.target = '_blank'),
            Object.keys(this.stackBlitzData).forEach(function(e) {
              var n = t.stackBlitzData[e];
              e.includes('app.module.ts') &&
                (n = n
                  .replace(/__EXAMPLE_MODULE_FILE_IMPORT/g, i.replace(/\.ts$/, ''))
                  .replace(/__EXAMPLE_MODULE/g, o)),
                e.includes('app.component.html') && (n = n.replace(/__EXAMPLE_TAG/g, a)),
                'object' == typeof n ? t._appendFormInput(s, e, JSON.stringify(n)) : t._appendFormInput(s, e, n);
            }),
            this._appendFormInput(s, 'project[files][src/app/' + c + ']', n.sourceCode),
            n.templateUrl && n.templateUrl.length > 0)
          ) {
            var l = d(n.templateUrl[0]);
            this._appendFormInput(s, 'project[files][src/app/' + l + ']', n.templateData);
          }
          if (n.styleUrlsData && n.styleUrlsData.length > 0) {
            var u = n.styleUrlsData[0];
            l = d(u.styleUrl);
            this._appendFormInput(s, 'project[files][src/app/' + l + ']', u.data);
          }
          function d(e) {
            return e.startsWith('./') && (e = e.slice(2)), e;
          }
          function m(e) {
            return e.slice(e.lastIndexOf('/') + 1);
          }
          this._appendFormInput(s, 'project[files][src/app/' + i + ']', r.sourceCode),
            document.body.appendChild(s),
            s.submit(),
            document.body.removeChild(s);
        }),
        (e.prototype._appendFormInput = function(e, t, n) {
          var r = document.createElement('input');
          (r.type = 'hidden'), (r.name = t), (r.value = n), e.appendChild(r);
        }),
        e
      );
    })(),
    S = (function() {
      function e(e, t, n) {
        (this.resolver = e), (this.docRetriever = t), (this.stackblitzWriter = n), (this.showSourceCode = !1);
      }
      return (
        Object.defineProperty(e.prototype, 'exampleEntry', {
          get: function() {
            return this._exampleEntry;
          },
          set: function(e) {
            (this._exampleEntry = e), this.createExample();
          },
          enumerable: !0,
          configurable: !0,
        }),
        (e.prototype.createExample = function() {
          this.exampleContainer.clear();
          var e = this.exampleEntry;
          if (e && e.component) {
            var t = this.resolver.resolveComponentFactory(e.component);
            this.exampleContainer.createComponent(t);
          }
        }),
        (e.prototype.openStackBlitz = function() {
          this.stackblitzWriter.openStackBlitz(this.exampleEntry);
        }),
        (e.decorators = [
          {
            type: t.Component,
            args: [
              {
                selector: 'vcd-example-viewer',
                template:
                  '<div class="card">\n    <div class="card-header-main">\n        <div class="card-header">\n            {{ exampleEntry?.title }}\n        </div>\n\n        <div class="example-button-container" [ngClass]="{ \'example-shown\': showSourceCode }">\n            <clr-icon shape="play" size="32" class="is-solid" (click)="openStackBlitz()"></clr-icon>\n            <clr-icon shape="code" size="32" (click)="showSourceCode = !showSourceCode"> </clr-icon>\n        </div>\n    </div>\n\n    <div class="card-block source-code-container" *ngIf="showSourceCode">\n        <vcd-source-code-viewer [component]="exampleEntry?.component"> </vcd-source-code-viewer>\n    </div>\n    <div class="card-block">\n        <div class="card-text">\n            <vcd-overview-viewer\n                [isNoOverviewMessageShown]="false"\n                [component]="exampleEntry?.component"\n            ></vcd-overview-viewer>\n            <template #exampleContainer> </template>\n        </div>\n    </div>\n</div>\n',
                styles: [
                  '.card-header-main{display:flex}.card-header-main .card-header{flex:1}.card-header-main .example-button-container{display:flex;margin:.5rem .5rem 0 0}.card-header-main .example-button-container.example-shown{border-radius:3px 3px 0 0;background-color:#d8e3e9}.card-header-main .example-button-container clr-icon{-ms-grid-row-align:center;align-self:center}.source-code-container{border-radius:3px 0 3px 3px;background-color:#d8e3e9;margin:0 .5rem}:host ::ng-deep vcd-overview-viewer>div>p{margin-bottom:10px}',
                ],
              },
            ],
          },
        ]),
        (e.ctorParameters = function() {
          return [{ type: t.ComponentFactoryResolver }, { type: d }, { type: x }];
        }),
        (e.propDecorators = {
          exampleEntry: [{ type: t.Input }],
          exampleContainer: [
            { type: t.ViewChild, args: ['exampleContainer', { static: !0, read: t.ViewContainerRef }] },
          ],
        }),
        e
      );
    })(),
    M = (function() {
      function e(e, t) {
        (this.documentationRetriever = e), (this.highlightService = t);
      }
      return (
        Object.defineProperty(e.prototype, 'component', {
          set: function(e) {
            e &&
              ((this.typescriptSourceCode = this.highlightService.highlightTypescript(
                this.documentationRetriever.getTypescriptSourceCode(e)
              )),
              (this.htmlSourceCode = this.highlightService.highlightHtml(
                this.documentationRetriever.getHtmlSourceCode(e) || 'No html found'
              )),
              (this.cssSourceCode = this.highlightService.highlightScss(
                this.documentationRetriever.getCssSourceCode(e) || 'No CSS found'
              )));
          },
          enumerable: !0,
          configurable: !0,
        }),
        (e.decorators = [
          {
            type: t.Component,
            args: [
              {
                selector: 'vcd-source-code-viewer',
                template:
                  '<clr-tabs>\n    <clr-tab>\n        <button clrTabLink>Typescript</button>\n        <clr-tab-content>\n            <pre class="language-ts"><code [innerHTML]="typescriptSourceCode"></code></pre>\n        </clr-tab-content>\n    </clr-tab>\n\n    <clr-tab>\n        <button clrTabLink>HTML</button>\n        <clr-tab-content>\n            <pre class="language-html"><code [innerHTML]="htmlSourceCode"></code></pre>\n        </clr-tab-content>\n    </clr-tab>\n\n    <clr-tab>\n        <button clrTabLink>CSS</button>\n        <clr-tab-content>\n            <pre class="language-scss"><code [innerHTML]="cssSourceCode"></code></pre>\n        </clr-tab-content>\n    </clr-tab>\n</clr-tabs>\n',
                styles: ['pre{height:15rem;max-height:15rem;border-radius:3px}'],
              },
            ],
          },
        ]),
        (e.ctorParameters = function() {
          return [{ type: d }, { type: g }];
        }),
        (e.propDecorators = { component: [{ type: t.Input }] }),
        e
      );
    })(),
    E = [M],
    I = (function() {
      function e() {}
      return (
        (e.decorators = [
          {
            type: t.NgModule,
            args: [{ imports: [a.ClarityModule, c.CommonModule], declarations: u(E), exports: u(E) }],
          },
        ]),
        e
      );
    })(),
    D = [S],
    T = (function() {
      function e() {}
      return (
        (e.decorators = [
          {
            type: t.NgModule,
            args: [{ imports: [a.ClarityModule, c.CommonModule, I, w], declarations: u(D), exports: u(D) }],
          },
        ]),
        e
      );
    })(),
    _ = (function() {
      function e(e) {
        this.documentationRetriever = e;
      }
      return (
        Object.defineProperty(e.prototype, 'component', {
          set: function(e) {
            e &&
              ((this.inputParameters = this.documentationRetriever.getInputParameters(e)),
              (this.outputParameters = this.documentationRetriever.getOutputParameters(e)));
          },
          enumerable: !0,
          configurable: !0,
        }),
        (e.decorators = [
          {
            type: t.Component,
            args: [
              {
                selector: ' vcd-api-viewer',
                template:
                  '<h6>Inputs</h6>\n<table class="table" *ngIf="inputParameters?.length">\n    <thead>\n        <tr>\n            <th class="left">Name</th>\n            <th>Type</th>\n            <th class="left">Description</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr *ngFor="let par of inputParameters">\n            <td class="left">\n                <p>{{ par.name }}</p>\n            </td>\n            <td>{{ par.type }}</td>\n            <td class="left"><div [innerHTML]="par.description"></div></td>\n        </tr>\n    </tbody>\n</table>\n<p *ngIf="!inputParameters?.length">The component has no input parameters</p>\n\n<h6>Outputs</h6>\n<table class="table" *ngIf="outputParameters?.length">\n    <thead>\n        <tr>\n            <th class="left">Name</th>\n            <th>Type</th>\n            <th class="left">Description</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr *ngFor="let par of outputParameters">\n            <td class="left">\n                <p>{{ par.name }}</p>\n            </td>\n            <td>{{ par.type }}</td>\n            <td class="left"><div [innerHTML]="par.description"></div></td>\n        </tr>\n    </tbody>\n</table>\n<p *ngIf="!outputParameters?.length">The component does not emit any values</p>\n',
                styles: ['::ng-deep body p{margin-top:0}'],
              },
            ],
          },
        ]),
        (e.ctorParameters = function() {
          return [{ type: d }];
        }),
        (e.propDecorators = { component: [{ type: t.Input }] }),
        e
      );
    })(),
    k = [_],
    P = (function() {
      function e() {}
      return (
        (e.decorators = [
          {
            type: t.NgModule,
            args: [{ imports: [a.ClarityModule, c.CommonModule], declarations: u(k), exports: u(k) }],
          },
        ]),
        e
      );
    })(),
    O = [m],
    j = (function() {
      function e() {}
      return (
        (e.decorators = [
          {
            type: t.NgModule,
            args: [
              {
                imports: [a.ClarityModule, c.CommonModule, w, P, T],
                declarations: u(O),
                entryComponents: [m],
                exports: u(O, [w, P, T]),
              },
            ],
          },
        ]),
        e
      );
    })(),
    R = [],
    L = new t.InjectionToken('DocLibModule.forRoot() CompoDocRetrieverService doc jsons.'),
    N = new t.InjectionToken('DocLibModule.forRoot() StackBlitz template JSON data');
  /*!
     * Copyright 2019 VMware, Inc.
     * SPDX-License-Identifier: BSD-2-Clause
     */ function A(e) {
    return new v(e);
  }
  function z(e, t) {
    return new x(e, t);
  }
  var F = (function() {
    function e() {}
    return (
      (e.forRoot = function(t, n) {
        return {
          ngModule: e,
          providers: [
            { provide: L, useValue: t },
            { provide: N, useValue: n },
            { provide: d, useFactory: A, deps: [L] },
            { provide: x, deps: [N, d], useFactory: z },
          ],
        };
      }),
      (e.decorators = [
        {
          type: t.NgModule,
          args: [{ imports: [j], declarations: u(R), exports: u(R, [j]), providers: [{ provide: g, useClass: y }] }],
        },
      ]),
      e
    );
  })();
  (e.ApiViewerComponent = _),
    (e.DOCUMENTATION_DATA = L),
    (e.DocLibModule = F),
    (e.Documentation = f),
    (e.DocumentationContainerComponent = m),
    (e.DocumentationRetrieverService = d),
    (e.ExampleViewerComponent = S),
    (e.OverviewViewerComponent = b),
    (e.PrismHighlightService = y),
    (e.STACKBLITZ_DATA = N),
    (e.SourceCodeViewerComponent = M),
    (e.StackBlitzWriterService = x),
    (e.getCompoDocRetrieverService = A),
    (e.getStackBlitzWriter = z),
    (e.ɵa = v),
    (e.ɵb = j),
    (e.ɵc = w),
    (e.ɵd = b),
    (e.ɵe = P),
    (e.ɵf = _),
    (e.ɵg = T),
    (e.ɵh = I),
    (e.ɵi = M),
    (e.ɵj = g),
    (e.ɵk = S),
    (e.ɵl = m),
    (e.ɵm = y),
    Object.defineProperty(e, '__esModule', { value: !0 });
});
//# sourceMappingURL=vcd-ui-doc-lib.umd.min.js.map
